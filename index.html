<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lead Capture Audit - Live Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
       
        /* THE PHONE FRAME (CSS Only iPhone) */
        .phone-mockup {
            width: 300px;
            height: 640px; /* The Master Height */
            background: #000;
            border-radius: 45px;
            border: 8px solid #333;
            position: relative;
            margin: 0 auto;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            flex-shrink: 0;
            z-index: 10;
        }
       
        /* The Notch */
        .phone-notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 25px;
            background: #000;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
            z-index: 20;
        }

        /* The Screen inside the phone */
        .phone-screen {
            width: 100%;
            height: 100%;
            background: white;
            position: relative;
            overflow: hidden;
            border-radius: 35px;
        }

        /* The Prospect's Website Iframe */
        iframe.site-preview {
            width: 100%;
            height: 100%;
            border: none;
            scrollbar-width: none; /* Hide scrollbar Firefox */
        }
        iframe.site-preview::-webkit-scrollbar { display: none; } /* Hide scrollbar Chrome */

        /* CHAT BUBBLE ON PHONE */
        .chat-bubble-btn {
            position: absolute;
            bottom: 25px;
            right: 25px;
            width: 55px;
            height: 55px;
            background: #2563EB;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
            cursor: pointer;
            z-index: 10;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(37, 99, 235, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0); }
        }

        /* CHAT INTERFACE OVERLAY */
        .chat-interface {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0;
            background: white;
            transition: height 0.3s ease;
            z-index: 15;
            display: flex;
            flex-direction: column;
        }

        .chat-interface.open { height: 100%; }

        .chat-header { padding: 15px; background: #2563EB; color: white; display: flex; justify-content: space-between; align-items: center; padding-top: 45px; }
        .chat-messages { flex: 1; padding: 15px; overflow-y: auto; background: #f3f4f6; display: flex; flex-direction: column; gap: 10px; }
        .chat-input-area { padding: 10px; border-top: 1px solid #ddd; background: white; display: flex; gap: 5px; }
       
        .msg { padding: 8px 12px; border-radius: 12px; max-width: 80%; font-size: 13px; }
        .msg.bot { background: white; color: #333; align-self: flex-start; border: 1px solid #e5e7eb; }
        .msg.user { background: #2563EB; color: white; align-self: flex-end; }
       
        .typing-indicator { font-size: 12px; color: #9ca3af; margin-left: 10px; margin-bottom: 5px; display: none; }

        /* CALENDAR STYLES */
        .cal-item { transition: all 0.2s; border: 2px solid transparent; }
        .cal-item.selected { background-color: #2563EB; color: white; border-color: #2563EB; transform: scale(1.05); box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.5); }

    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <nav class="bg-white border-b border-gray-200 p-4 sticky top-0 z-50">
        <div class="max-w-5xl mx-auto flex justify-between items-center">
            <div class="font-bold text-xl text-blue-600 tracking-tight">VoxLead<span class="text-slate-800">.Agency</span></div>
            <a href="#book" class="bg-blue-600 text-white px-5 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-700 transition shadow-md">Get The System</a>
        </div>
    </nav>

    <section class="max-w-6xl mx-auto py-12 px-4 text-center">
        <h1 class="text-3xl md:text-5xl font-extrabold mb-3 text-slate-900">Your C.A.S.H. Audit Results</h1>
        <p class="text-gray-500 mb-12 text-lg">Personalized Analysis for: <span id="biz-name-display" class="font-bold text-blue-600">Your Business</span></p>

        <div class="flex flex-col md:flex-row items-center md:items-stretch justify-center gap-0 md:gap-10">
           
            <div class="w-full md:w-[340px] h-auto bg-white rounded-[30px] shadow-2xl border border-slate-200 flex flex-col overflow-hidden relative group hover:shadow-[0_20px_60px_-15px_rgba(30,58,138,0.2)] transition-all duration-300 z-0">
               
                <div class="bg-slate-900 p-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-lg font-bold text-white leading-tight text-left">Emergency<br>Leak Report</h2>
                        <span class="bg-red-600 text-white text-xl font-black px-3 py-1 rounded-lg border border-red-500">CRITICAL</span>
                    </div>
                </div>
               
                <div class="p-6 flex flex-col h-full bg-white">
                   
                    <div class="flex items-center gap-2 mb-4 mt-1">
                        <i class="fas fa-exclamation-circle text-red-600"></i>
                        <h3 class="text-xs font-bold text-red-600 uppercase tracking-widest">Critical Issues Found</h3>
                    </div>
                   
                    <div class="space-y-4 flex-1">
                        <div class="flex justify-between items-center border-b border-gray-50 pb-2">
                            <span class="text-gray-600 text-sm font-medium">After-Hours Emergency</span>
                            <span class="text-red-600 font-bold text-xs bg-red-50 px-2 py-1 rounded"><i class="fas fa-times-circle"></i> VOICEMAIL</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-50 pb-2">
                            <span class="text-gray-600 text-sm font-medium">Response Time</span>
                            <span class="text-red-600 font-bold text-xs bg-red-50 px-2 py-1 rounded"><i class="fas fa-battery-empty"></i> > 15 MINS</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-50 pb-2">
                            <span class="text-gray-600 text-sm font-medium">Lead Capture Rate</span>
                            <span class="text-orange-500 font-bold text-xs bg-orange-50 px-2 py-1 rounded"><i class="fas fa-exclamation-triangle"></i> LOW</span>
                        </div>
                         <div class="flex justify-between items-center border-b border-gray-50 pb-2">
                            <span class="text-gray-600 text-sm font-medium">Competitor Status</span>
                            <span class="text-red-600 font-bold text-xs bg-red-50 px-2 py-1 rounded"><i class="fas fa-skull-crossbones"></i> TAKING JOBS</span>
                        </div>
                    </div>

                    <div class="mt-auto">
                        <div class="bg-red-50 p-5 rounded-2xl border border-red-100 text-center relative mb-4">
                            <p class="text-[10px] text-red-500 font-bold uppercase tracking-widest mb-1">Est. Monthly Loss (1 Job/Week)</p>
                            <p id="lost-revenue-display" class="text-4xl font-extrabold text-red-600 tracking-tight">-$12,500/mo</p>
                            <p class="text-[10px] text-gray-400 mt-2 italic px-2">Based on avg. restoration job value ($3k+)</p>
                        </div>

                        <button onclick="openReport()" class="w-full py-3 rounded-xl border border-slate-200 text-slate-600 font-semibold text-xs text-center hover:bg-slate-900 hover:text-white transition flex items-center justify-center gap-2 cursor-pointer">
                            <i class="fas fa-file-pdf text-red-500"></i> View Full C.A.S.H. Report
                        </button>
                    </div>
                </div>
            </div>

            <div class="hidden md:flex flex-col items-center justify-center text-blue-600 text-3xl animate-pulse z-20 w-12">
                <i class="fas fa-arrow-right"></i>
            </div>

            <div class="phone-mockup">
                <div class="phone-notch"></div>
                <div class="phone-screen">
                    <iframe id="preview-frame" class="site-preview" src=""></iframe>
                   
                    <div id="iframe-fallback" class="absolute inset-0 bg-gray-100 flex flex-col items-center justify-center p-6 text-center hidden">
                        <div class="mb-6 text-5xl opacity-20">ðŸ”’</div>
                        <h3 class="font-bold text-lg mb-2 text-slate-800">Website Security Active</h3>
                        <p class="text-sm text-gray-500 mb-6 px-4">This website prevents external previews, but our Chat Agent is fully active on top of it.</p>
                        <button onclick="toggleChat()" class="bg-blue-600 text-white px-6 py-3 rounded-full text-sm font-semibold shadow-lg hover:bg-blue-700 transition transform hover:-translate-y-1">Test Chat Agent</button>
                    </div>

                    <div class="chat-bubble-btn" onclick="toggleChat()">
                        <i class="fas fa-comment-alt text-2xl"></i>
                    </div>

                    <div class="chat-interface" id="chat-interface">
                        <div class="chat-header">
                            <div class="flex items-center gap-3">
                                <div class="w-9 h-9 rounded-full bg-white text-blue-600 flex items-center justify-center font-bold text-sm shadow-sm">AI</div>
                                <div>
                                    <div class="text-sm font-bold">Dispatch Agent</div>
                                    <div class="text-[10px] opacity-80 flex items-center gap-1"><span class="w-1.5 h-1.5 bg-green-400 rounded-full"></span> Active Now</div>
                                </div>
                            </div>
                            <button onclick="toggleChat()" class="text-white opacity-80 hover:opacity-100 transition"><i class="fas fa-times text-lg"></i></button>
                        </div>
                        <div class="chat-messages" id="chat-msgs"></div>
                        <div class="typing-indicator" id="typing-indicator">Agent is typing...</div>
                        <div class="chat-input-area">
                            <input type="text" id="chat-input" placeholder="Ask about water damage..." class="flex-1 border-0 bg-gray-100 rounded-full px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">
                            <button onclick="sendMessage()" class="bg-blue-600 text-white w-9 h-9 rounded-full flex items-center justify-center hover:bg-blue-700 transition"><i class="fas fa-paper-plane text-xs"></i></button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <section class="bg-white py-16 border-t border-gray-100">
        <div class="max-w-3xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold mb-4 text-slate-900">AI Voice Dispatcher</h2>
            <p class="text-gray-500 mb-10">Listen to how she handles a frantic customer for <span class="biz-name-fill font-bold text-slate-800">your business</span>.</p>
           
            <div class="bg-slate-50 p-10 rounded-[30px] flex flex-col items-center gap-6 shadow-sm border border-slate-100">
                <div class="relative">
                    <img src="https://img.freepik.com/free-photo/young-beautiful-woman-customer-service-operator-headset_140725-16479.jpg" alt="AI Agent" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-xl">
                    <div class="absolute bottom-1 right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full"></div>
                </div>
               
                <div class="space-y-4">
                    <a href="tel:3238709970" class="inline-flex items-center gap-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-4 rounded-full text-xl font-bold transition-all transform hover:-translate-y-1 shadow-lg shadow-orange-500/30">
                        <i class="fas fa-phone-alt animate-pulse"></i>
                        Call (323) 870-9970
                    </a>
                    <p class="text-xs text-gray-400">Test the Voice Agent Live â€¢ 24/7 Availability</p>
                </div>
            </div>
        </div>
    </section>

    <section id="book" class="max-w-4xl mx-auto py-16 px-4">
        <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-8 md:p-12 flex flex-col md:flex-row gap-10">
            <div class="md:w-1/3">
                <div class="font-bold text-blue-600 mb-2 text-sm tracking-wide uppercase">VoxLead.Agency</div>
                <h3 class="text-3xl font-bold mb-4 text-slate-900">Claim This System</h3>
                <p class="text-gray-500 text-sm leading-relaxed mb-6">
                    Stop losing jobs to missed calls. Book a quick 15-min setup call to get this AI answering your phones by tomorrow.
                </p>
            </div>
           
            <div class="md:w-2/3 border-l border-gray-100 pl-0 md:pl-10 pt-4 md:pt-0">
                <h4 class="font-bold mb-6 text-slate-800">Select Date & Time</h4>
               
                <div class="grid grid-cols-4 gap-3 text-center text-sm mb-6" id="date-grid">
                    <div class="cal-item p-3 cursor-pointer bg-gray-50 rounded-xl" onclick="selectDate(this, 'Mon 18')">Mon<br><span class="font-bold text-lg">18</span></div>
                    <div class="cal-item p-3 cursor-pointer bg-gray-50 rounded-xl" onclick="selectDate(this, 'Tue 19')">Tue<br><span class="font-bold text-lg">19</span></div>
                    <div class="cal-item p-3 cursor-pointer bg-gray-50 rounded-xl" onclick="selectDate(this, 'Wed 20')">Wed<br><span class="font-bold text-lg">20</span></div>
                    <div class="cal-item p-3 cursor-pointer bg-gray-50 rounded-xl" onclick="selectDate(this, 'Thu 21')">Thu<br><span class="font-bold text-lg">21</span></div>
                </div>

                <div class="grid grid-cols-2 gap-4" id="time-grid">
                    <button class="cal-item border border-gray-200 py-3 rounded-lg text-gray-600 text-sm w-full" onclick="selectTime(this, '9:00 AM')">9:00 AM</button>
                    <button class="cal-item border border-gray-200 py-3 rounded-lg text-gray-600 text-sm w-full" onclick="selectTime(this, '10:00 AM')">10:00 AM</button>
                    <button class="cal-item border border-gray-200 py-3 rounded-lg text-gray-600 text-sm w-full" onclick="selectTime(this, '1:00 PM')">1:00 PM</button>
                    <button class="cal-item border border-gray-200 py-3 rounded-lg text-gray-600 text-sm w-full" onclick="selectTime(this, '3:30 PM')">3:30 PM</button>
                </div>

                <button onclick="bookAppointment()" class="w-full mt-8 bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-slate-800 transition shadow-lg">Confirm Booking</button>
                <p id="book-error" class="text-red-500 text-xs text-center mt-2 hidden">Please select a Date and Time first.</p>
            </div>
        </div>
    </section>

    <footer class="bg-slate-900 text-slate-400 py-10 text-center text-sm">
        <p class="mb-2">&copy; 2025 VoxLead.Agency.</p>
    </footer>

    <script>
        // ==========================================
        //  YOUR SETTINGS (EDIT THESE 2 LINES)
        // ==========================================
        const SETTINGS = {
            cashReportUrl: "https://YOUR-CASH-ANALYZER-LINK-HERE.com", // Paste your C.A.S.H. link inside the quotes
            bookingEmail: "YOUR-EMAIL@GMAIL.COM" // Paste your email inside the quotes
        };
        // ==========================================


        // 1. SETUP
        const params = new URLSearchParams(window.location.search);
        const businessName = params.get('name') || "Your Business";
        const siteUrl = params.get('site');
        const lostRevenue = params.get('lost') || "12,500";

        // Update Text
        document.getElementById('biz-name-display').innerText = businessName;
        document.querySelectorAll('.biz-name-fill').forEach(el => el.innerText = businessName);
       
        // Update Revenue
        document.getElementById('lost-revenue-display').innerText = `-$${lostRevenue}/mo`;

        // Update Iframe
        const iframe = document.getElementById('preview-frame');
        const fallback = document.getElementById('iframe-fallback');
       
        if (siteUrl) {
            let safeUrl = siteUrl.startsWith('http') ? siteUrl : 'https://' + siteUrl;
            iframe.src = safeUrl;
           
            iframe.onerror = () => {
                iframe.style.display = 'none';
                fallback.classList.remove('hidden');
                fallback.classList.add('flex');
            }
        } else {
            iframe.style.display = 'none';
            fallback.classList.remove('hidden');
            fallback.classList.add('flex');
        }

        // 2. REPORT LINK LOGIC
        function openReport() {
            window.open(SETTINGS.cashReportUrl, '_blank');
        }

        // 3. CALENDAR LOGIC
        let selectedDate = null;
        let selectedTime = null;

        function selectDate(element, dateValue) {
            // Reset styles
            document.querySelectorAll('#date-grid .cal-item').forEach(el => el.classList.remove('selected', 'bg-blue-600', 'text-white'));
            document.querySelectorAll('#date-grid .cal-item').forEach(el => el.classList.add('bg-gray-50'));
            
            // Set active style
            element.classList.remove('bg-gray-50');
            element.classList.add('selected', 'bg-blue-600', 'text-white');
            
            selectedDate = dateValue;
            document.getElementById('book-error').classList.add('hidden');
        }

        function selectTime(element, timeValue) {
            // Reset styles
            document.querySelectorAll('#time-grid .cal-item').forEach(el => el.classList.remove('selected', 'bg-blue-600', 'text-white'));
           
            // Set active style
            element.classList.add('selected', 'bg-blue-600', 'text-white');
           
            selectedTime = timeValue;
            document.getElementById('book-error').classList.add('hidden');
        }

        function bookAppointment() {
            if(!selectedDate || !selectedTime) {
                document.getElementById('book-error').classList.remove('hidden');
                return;
            }
            // Create the email link
            const subject = `Booking Request: ${businessName}`;
            const body = `Hi, I would like to book the VoxLead demo on ${selectedDate} at ${selectedTime}. My business name is ${businessName}.`;
            const mailtoLink = `mailto:${SETTINGS.bookingEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
           
            // Open email client
            window.location.href = mailtoLink;
        }

        // 4. SMART AI LOGIC (WATER DAMAGE EDITION)
        const knowledgeBase = [
            { keywords: ["flood", "water", "leak", "burst", "emergency", "wet"], answer: "I understand this is an emergency. Our team is available 24/7 for water extraction. Is the water still flowing, or has it been stopped?" },
            { keywords: ["stopped", "stop", "off"], answer: "Good. Since the water is stopped, we need to get a crew out immediately to prevent mold growth. Can I have your address to check dispatch availability?" },
            { keywords: ["mold", "smell", "mildew"], answer: "Mold can start growing within 24-48 hours. We are certified in mold remediation. We should inspect this ASAP." },
            { keywords: ["insurance", "cost", "price", "bill"], answer: "We work directly with all major insurance carriers (State Farm, Allstate, etc.) to handle the billing for you. We can document the damage for your claim immediately." },
            { keywords: ["human", "person", "real", "agent"], answer: "I am the AI Dispatcher, but I can patch you through to the on-call technician instantly if you click the 'Call' button below." },
            { keywords: ["hours", "open", "time"], answer: "We are open 24/7/365 for emergencies. Disasters don't wait for business hours, and neither do we." },
            { keywords: ["phone", "call", "number"], answer: "You can reach our emergency line at (323) 870-9970." },
            { keywords: ["appointment", "book"], answer: "For water damage, we don't 'book appointments' next weekâ€”we send a crew NOW. Would you like us to dispatch a truck?" }
        ];

        const chatInterface = document.getElementById('chat-interface');
        const chatMsgs = document.getElementById('chat-msgs');
        const chatInput = document.getElementById('chat-input');
        const typingIndicator = document.getElementById('typing-indicator');
        let hasOpened = false;

        function toggleChat() {
            chatInterface.classList.toggle('open');
            if (chatInterface.classList.contains('open') && !hasOpened) {
                hasOpened = true;
                setTimeout(() => botReply(`Hello. This is the 24/7 Emergency Assistant for ${businessName}. Do you have a water emergency?`), 500);
            }
        }

        function sendMessage() {
            const text = chatInput.value.trim();
            if(!text) return;
            addMsg(text, 'user');
            chatInput.value = '';
            typingIndicator.style.display = 'block';
            chatMsgs.scrollTop = chatMsgs.scrollHeight;

            setTimeout(() => {
                typingIndicator.style.display = 'none';
                const response = getSmartResponse(text);
                botReply(response);
            }, 1000);
        }

        function getSmartResponse(userInput) {
            const lowerInput = userInput.toLowerCase();
            for (const item of knowledgeBase) {
                if (item.keywords.some(keyword => lowerInput.includes(keyword))) {
                    return item.answer;
                }
            }
            return "I see. Because this might be an emergency situation, I'd like to get a technician to call you immediately. What is the best number to reach you?";
        }

        function botReply(text) {
            addMsg(text, 'bot');
        }

        function addMsg(text, type) {
            const div = document.createElement('div');
            div.className = `msg ${type}`;
            div.innerText = text;
            chatMsgs.appendChild(div);
            chatMsgs.scrollTop = chatMsgs.scrollHeight;
        }

        chatInput.addEventListener('keypress', (e) => {
            if(e.key === 'Enter') sendMessage();
        });

    </script>
</body>
</html>
